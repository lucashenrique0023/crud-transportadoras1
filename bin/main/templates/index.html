<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Insert title here</title>
<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
<link th:href="@{/css/estilos.css}" rel="stylesheet">
<script type="text/javascript" th:src="@{/js/scripts.js}"></script>
</head>
<body>
	<div class="container"
		style="padding-top: 30px; padding-bottom: 30px; border-bottom: 1px solid black;">
		<div class="row">
			<div class="col">
				<div class="input-group input-group-sm mb-3">
					<div class="input-group-prepend">
						<span class="input-group-text" id="inputGroup-sizing-sm">Transportadoras</span>
					</div>
					<input type="text" class="form-control"
						aria-label="Transportadoras"
						aria-describedby="inputGroup-sizing-sm">
					<!--button type="button" class="btn btn-success btn-sm">Cadastre
						sua transportadora</button  -->
						
					<input type="button" class="btn btn-success btn-sm" value="Cadastre sua Transportadora" th:onclick="'location.href=\'' + @{/public/transportadora/new} + '\';'">
				</div>
			</div>
		</div>
	</div>
	<div class="container">
		<div class="row">
			<div class="col-4">
			<form method="get" th:object="${transportadoraFilter}" th:action="@{/home}" id="formFilter">
				<h3>Transportadoras</h3>
				<span th:text="${transportadoras.size()} + ' ' + resultado + '(' + s + ')'"></span>
				<div>
					<input th:if="${transportadoraFilter.cidade} != null " th:value="${transportadoraFilter.cidade}" type="button" class="btn btn-primary btn-sm"
					onclick="filtrarCidade(null);"/>
					<input th:if="${transportadoraFilter.estado} != null" th:value="${transportadoraFilter.estado}" type="button" class="btn btn-primary btn-sm"
					onclick="filtrarEstado(null);"/>
					<input th:if="${transportadoraFilter.modal} != null" th:value="${transportadoraFilter.modal}" type="button" class="btn btn-primary btn-sm"
					onclick="filtrarModal(null);"/>
					<input th:if="${transportadoraFilter.nome} != null" th:value="${transportadoraFilter.nome}" type="button" class="btn btn-primary btn-sm"
					onclick="filtrarNome(null);"/>
					
				</div>
				<br />
				<div>
					<label for="nome">Nome</label> 
					<input type="text" id="inputSearchNome" th:field="*{nome}" th:value="*{nome}" onfocusout="enviarFormulario();"/> 
					<br />
					<!-- input type="submit" value="Buscar"/ -->
					<br />
					<h5>
						Localizacao (UFs)
						</h3>
						<input id="inputSearchEstado" type="hidden" th:field="*{estado}"/>
						<ul style="list-style-type: none;">
							<li th:each="transportadoraUF : ${transportadorasUF}">
								<a th:dataEstado="${transportadoraUF[1]}" href="#" th:onclick="filtrarEstado(this.getAttribute('dataEstado'));">
									<span th:text="${transportadoraUF[1]} + '(' + ${transportadoraUF[0]} + ')'"></span>
								</a>
								<br />
							</li>
						</ul>
						<br /> <br />
						<h5>
							Cidades
							</h3>
							<input id="inputSearchCidade" type="hidden" th:field="*{cidade}"/>
							<ul style="list-style-type: none;">
								<li th:each="transportadoraCidade : ${transportadorasCidades}">
									<a th:dataCidade="${transportadoraCidade[1]}" href="#" th:onclick="filtrarCidade(this.getAttribute('dataCidade'));">
										<span th:text="${transportadoraCidade[1]} + '(' + ${transportadoraCidade[0]} + ')'"></span>
									</a>
									<br />
								</li>
							</ul>

							<br /> <br />
							<h5>
								Modal
								</h3>
								<input id="inputSearchModal" type="hidden" th:field="*{modal}"/>
								<ul style="list-style-type: none;">
									<li th:each="transportadoraModal : ${transportadorasModais}">
										<a th:dataModal="${transportadoraModal[1]}" href="#" th:onclick="filtrarModal(this.getAttribute('dataModal'));">
											<span th:text="${transportadoraModal[1]} + '(' + ${transportadoraModal[0]} + ')'"></span>
										</a>
										<br />
									</li>
								</ul>
				</div>
			</form>
			</div>
			<div class="col-8">
				<table class="gfg">
					<tbody>
						<tr th:each="transportadora : ${transportadoras}">
								<input type="hidden" name="transportadoraId" th:value="${transportadora.id}"/>
							<th scope="row"><a href="#"> <img
									th:src="@{/images/logotipo/} + ${transportadora.logotipo}" th:alt="${transportadora.nome}" width="50"
									height="50" style="float: left" th:onclick="'location.href=\'' + @{/transportadora/edit} + '?transportadoraId=' + ${transportadora.id} + '\';'"/>
							</a></th>
							<td>
							<a href="#" th:onclick="'location.href=\'' + @{/transportadora/edit} + '?transportadoraId=' + ${transportadora.id} + '\';'"><span th:text="${transportadora.nome}"></span></a>
							<br/>
							<span th:text="${transportadora.empresa}"></span>
							</td>
							<td>
								<span th:text="${transportadora.telefone}"></span> 
								<span th:text="${transportadora.celular}"></span> 
								<br/>
								<span th:text="${transportadora.email}"></span>
							</td>
							<td id="closeborder">
								<span th:text="'Fale Agora: ' + ${transportadora.whatsapp}"></span>
							</td>
						</tr>	
					</tbody>
				</table>
			</div>
		</div>
	</div>

</body>
</html>